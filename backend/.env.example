# Supabase Configuration
# Copy this file to .env and fill in your values from Supabase Dashboard → Settings → API

# Project URL
SUPABASE_URL=https://YOUR_PROJECT_REF.supabase.co

# Service Role Key (REQUIRED - has admin permissions)
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# Anon Key (REQUIRED for login - use the JWT format eyJ... from anon public)
SUPABASE_ANON_KEY=your_anon_public_jwt_here

# Database URL (REQUIRED for automatic migrations)
# Get from: Supabase Dashboard → Settings → Database → Connection string → URI
# Use "Transaction" mode, replace [YOUR-PASSWORD] with your database password
SUPABASE_DB_URL=postgresql://postgres.[PROJECT_REF]:[YOUR-PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres

# JWT validation (replace YOUR_PROJECT_REF with your project ID from the URL)
JWT_AUDIENCE=authenticated
JWT_ISSUER=https://YOUR_PROJECT_REF.supabase.co/auth/v1

# Frontend URL - used for email confirmation redirect after user clicks link
# Local: http://localhost:3000  Production: https://ip-internal-manage-software.vercel.app
FRONTEND_URL=http://localhost:3000

# CORS (required for production): comma-separated frontend origins
# Backend also reads CORS_ORIGIN, CORS_ORIGIN_1, CORS_ORIGIN_2, ... CORS_ORIGIN_10 (Render-style)
# industryprime.vercel.app is included in default production list
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,https://industryprime.vercel.app,https://ip-internal-manage-software.vercel.app

# Checklist daily reminder email (optional)
# Option A: Postmark - HTTP API works on Render (no SMTP ports needed)
# Use same Server API Token as SMTP (from Postmark → API Tokens)
POSTMARK_SERVER_TOKEN=your_postmark_server_token
SMTP_FROM_EMAIL=aman@industryprime.com
SMTP_POSTMARK_STREAM=outbound
# Option B: SMTP (localhost only - blocked on Render free tier)
SMTP_HOST=smtp.postmarkapp.com
SMTP_PORT=587
SMTP_USER=your_postmark_server_token
SMTP_PASSWORD=your_postmark_server_token
# (Optional) SendGrid API - alternative if not using Postmark
# SENDGRID_API_KEY=
# SENDGRID_FROM_EMAIL=
# SENDGRID_FROM_NAME=
# Secret for cron to call POST /checklist/send-daily-reminders (set X-Cron-Secret header)
CHECKLIST_CRON_SECRET=
